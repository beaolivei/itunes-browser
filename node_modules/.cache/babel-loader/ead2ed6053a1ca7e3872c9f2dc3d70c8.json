{"ast":null,"code":"import _slicedToArray from\"/Users/beaolivei/Desktop/projetos/itunes-browser/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Box from'@material-ui/core/Box';import List from'@material-ui/core/List';import{Item}from'../../components/list-item/ListItem';import Container from'@material-ui/core/Container';import Button from'@material-ui/core/Button';import{GroupedSearchInput}from'../../components/grouped-search/GroupedSearchInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TopSongs(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchItem=_useState2[0],setSearchItem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),mySongs=_useState4[0],setMySongs=_useState4[1];useEffect(function(){fetch('https://itunes.apple.com/us/rss/topsongs/limit=100/json').then(function(results){return results.json();}).then(function(data){var entry=data.feed.entry;setMySongs(entry);});},[]);var onChange=function onChange(event,value){setSearchItem(value);};var onClearSearch=function onClearSearch(){setSearchItem('');};console.log({mySongs:mySongs});return/*#__PURE__*/_jsx(Box,{minHeight:\"500px\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"left\",children:[/*#__PURE__*/_jsx(GroupedSearchInput,{inputLabel:\"Search on Song List\",data:mySongs,onChange:onChange}),searchItem!==\"\"&&/*#__PURE__*/_jsx(Box,{marginLeft:2,children:/*#__PURE__*/_jsx(Button,{onClick:onClearSearch,variant:\"contained\",children:\" Clear Search\"})})]}),searchItem===''?/*#__PURE__*/_jsx(List,{children:!mySongs?'Loading...':mySongs.map(function(i,index){var artist=i[\"im:artist\"].label;var song=i[\"im:name\"].label;var src=i[\"im:image\"][2].label;var price=i[\"im:price\"].label;var href=i[\"link\"][0].attributes.href;return/*#__PURE__*/_jsx(Item,{name:i.title.label,song:song,artist:artist,src:src,price:price,href:href},index);})}):/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsx(Item,{name:searchItem.title.label,artist:searchItem[\"im:artist\"].label,song:searchItem[\"im:name\"].label,src:searchItem[\"im:image\"][2].label,price:searchItem[\"im:price\"].label,href:searchItem[\"link\"][0].attributes.href})})]})});}","map":{"version":3,"sources":["/Users/beaolivei/Desktop/projetos/itunes-browser/src/compositions/top-songs/TopSongs.jsx"],"names":["React","useState","useEffect","Box","List","Item","Container","Button","GroupedSearchInput","TopSongs","searchItem","setSearchItem","mySongs","setMySongs","fetch","then","results","json","data","entry","feed","onChange","event","value","onClearSearch","console","log","map","i","index","artist","label","song","src","price","href","attributes","title"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Box from '@material-ui/core/Box';\nimport List from '@material-ui/core/List';\nimport {Item} from '../../components/list-item/ListItem'\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport {GroupedSearchInput} from '../../components/grouped-search/GroupedSearchInput'\n\nexport function TopSongs(){\n    const [searchItem, setSearchItem] = useState('')\n    const[mySongs, setMySongs]= useState([])\n\n    useEffect(() => {\n        fetch('https://itunes.apple.com/us/rss/topsongs/limit=100/json')\n      .then(results => results.json())\n      .then(data => {\n        const {entry} = data.feed;\n        setMySongs(entry)\n      });\n  }, []);\n\n    const onChange = (event, value) => {\n        setSearchItem(value)\n    }\n    const onClearSearch = () => {\n        setSearchItem('')\n    }\n    console.log({mySongs})\n    return(\n        <Box minHeight=\"500px\">\n          <Container>\n              <Box display=\"flex\" justifyContent=\"left\">\n              <GroupedSearchInput inputLabel=\"Search on Song List\" data={mySongs} onChange={onChange} />\n              {searchItem !== \"\" && \n              <Box marginLeft={2}>\n               <Button onClick={onClearSearch} variant=\"contained\"> Clear Search</Button>\n              </Box>\n              }\n              </Box>\n            {searchItem === '' ?\n                <List>\n                    {!mySongs ? 'Loading...' : mySongs.map((i, index)=> {\n                    const artist = i[\"im:artist\"].label;\n                    const song = i[\"im:name\"].label;\n                    const src = i[\"im:image\"][2].label;\n                    const price = i[\"im:price\"].label;\n                    const href = i[\"link\"][0].attributes.href;\n                    return(\n                        <Item \n                        name={i.title.label} \n                        song={song} \n                        artist={artist} \n                        key={index} \n                        src={src} \n                        price={price}\n                        href={href}\n                        />\n                        )\n                        })}\n                </List> : \n                <List>\n                <Item \n                name={searchItem.title.label} \n                artist={searchItem[\"im:artist\"].label} \n                song={searchItem[\"im:name\"].label}\n                src={searchItem[\"im:image\"][2].label} \n                price={searchItem[\"im:price\"].label}\n                href={searchItem[\"link\"][0].attributes.href}\n                />\n                </List>}\n\n        </Container>\n        </Box>\n    )\n}"]},"metadata":{},"sourceType":"module"}