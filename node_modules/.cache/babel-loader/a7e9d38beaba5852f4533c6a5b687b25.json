{"ast":null,"code":"import _slicedToArray from\"/Users/beaolivei/Desktop/projetos/itunes-browser/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{FavoritesContext}from\"../../providers/Favorites\";import Box from'@material-ui/core/Box';import List from'@material-ui/core/List';import{Item}from'../../components/list-item/ListItem';import Container from'@material-ui/core/Container';import Button from'@material-ui/core/Button';import{GroupedSearchInput}from'../../components/grouped-search/GroupedSearchInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TopAlbuns(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchItem=_useState2[0],setSearchItem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),myAlbuns=_useState4[0],setmyAlbuns=_useState4[1];var _useContext=useContext(FavoritesContext),favorites=_useContext.favorites,setFavorites=_useContext.setFavorites;useEffect(function(){fetch('https://itunes.apple.com/us/rss/topalbums/limit=100/json').then(function(results){return results.json();}).then(function(data){var entry=data.feed.entry;setmyAlbuns(entry);});},[]);console.log({myAlbuns:myAlbuns});var onChange=function onChange(event,value){setSearchItem(value);};var onClearSearch=function onClearSearch(){setSearchItem('');};return/*#__PURE__*/_jsx(Box,{minHeight:\"500px\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"left\",children:[/*#__PURE__*/_jsx(GroupedSearchInput,{inputLabel:\"Search on Albums List\",data:myAlbuns,onChange:onChange}),searchItem!==\"\"&&/*#__PURE__*/_jsx(Box,{marginLeft:2,children:/*#__PURE__*/_jsx(Button,{onClick:onClearSearch,variant:\"contained\",children:\" Clear Search\"})})]}),searchItem===''?/*#__PURE__*/_jsx(List,{children:!myAlbuns?'Loading...':myAlbuns.map(function(i,index){var artist=i[\"im:artist\"].label;var song=i[\"im:name\"].label;var src=i[\"im:image\"][2].label;var price=i[\"im:price\"].label;var href=i[\"link\"].attributes.href;var id=i[\"id\"][\"attributes\"][\"im:id\"];return/*#__PURE__*/_jsx(Item,{name:i.title.label,song:song,artist:artist,src:src,price:price,href:href,id:id,value:song,index:index},index);})}):/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsx(Item,{name:searchItem.title.label,artist:searchItem[\"im:artist\"].label,song:searchItem[\"im:name\"].label,src:searchItem[\"im:image\"][2].label,price:searchItem[\"im:price\"].label})})]})});}","map":{"version":3,"sources":["/Users/beaolivei/Desktop/projetos/itunes-browser/src/compositions/top-albuns/TopAlbuns.jsx"],"names":["React","useState","useEffect","useContext","FavoritesContext","Box","List","Item","Container","Button","GroupedSearchInput","TopAlbuns","searchItem","setSearchItem","myAlbuns","setmyAlbuns","favorites","setFavorites","fetch","then","results","json","data","entry","feed","console","log","onChange","event","value","onClearSearch","map","i","index","artist","label","song","src","price","href","attributes","id","title"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {FavoritesContext} from \"../../providers/Favorites\"\nimport Box from '@material-ui/core/Box';\nimport List from '@material-ui/core/List';\nimport {Item} from '../../components/list-item/ListItem'\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport {GroupedSearchInput} from '../../components/grouped-search/GroupedSearchInput'\n\nexport function TopAlbuns(){\n    const [searchItem, setSearchItem] = useState('')\n    const[myAlbuns, setmyAlbuns]= useState([])\n    const {favorites, setFavorites} = useContext(FavoritesContext);\n\n    useEffect(() => {\n        fetch('https://itunes.apple.com/us/rss/topalbums/limit=100/json')\n      .then(results => results.json())\n      .then(data => {\n        const {entry} = data.feed;\n        setmyAlbuns(entry)\n      });\n  }, []);\n  console.log({myAlbuns})\n    const onChange = (event, value) => {\n        setSearchItem(value)\n    }\n    const onClearSearch = () => {\n        setSearchItem('')\n    }\n\n    return(\n        <Box minHeight=\"500px\">\n          <Container>\n              <Box display=\"flex\" justifyContent=\"left\">\n              <GroupedSearchInput inputLabel=\"Search on Albums List\" data={myAlbuns} onChange={onChange} />\n              {searchItem !== \"\" && \n              <Box marginLeft={2}>\n               <Button onClick={onClearSearch} variant=\"contained\"> Clear Search</Button>\n              </Box>\n              }\n              </Box>\n            {searchItem === '' ?\n                <List>\n                    {!myAlbuns ? 'Loading...' : myAlbuns.map((i, index)=> {\n                    const artist = i[\"im:artist\"].label;\n                    const song = i[\"im:name\"].label;\n                    const src = i[\"im:image\"][2].label;\n                    const price = i[\"im:price\"].label;\n                    const href = i[\"link\"].attributes.href\n                    const id = i[\"id\"][\"attributes\"][\"im:id\"]\n                    return(\n                        <Item \n                        name={i.title.label} \n                        song={song} \n                        artist={artist} \n                        key={index} \n                        src={src} \n                        price={price}\n                        href={href}\n                        id={id}\n                        value={song}\n                        index={index}\n                        />\n                        )\n                        })}\n                </List> : \n                <List>\n                <Item \n                name={searchItem.title.label} \n                artist={searchItem[\"im:artist\"].label} \n                song={searchItem[\"im:name\"].label}\n                src={searchItem[\"im:image\"][2].label} \n                price={searchItem[\"im:price\"].label}\n                />\n                </List>}\n\n        </Container>\n        </Box>\n    )\n}"]},"metadata":{},"sourceType":"module"}